<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VitalTip Dashboard</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');
        /* --- all your CSS stays exactly the same --- */
        :root {
            --bg-dark: #0e0e21;
            --sidebar-bg: #111128;
            --card-bg: rgba(255, 255, 255, 0.05);
            --accent: #9f70ff;
            --accent-light: #b48aff;
            --text: #f1f1f9;
            --text-subtle: #b6b6d9;
            --border: rgba(255,255,255,0.1);
            --shadow: 0 10px 25px rgba(0,0,0,0.4);
            --radius: 16px;
            --error-color: #ff6b6b;
        }
        /* … (rest of your CSS untouched) … */
    </style>
</head>
<body>
    <!-- your sidebar + main content unchanged -->
    <div class="sidebar">
        <div>
            <div class="sidebar-header">
                <h2>VitalTip</h2>
                <p style="font-size:12px;color:var(--text-subtle)">Powered by Intuition</p>
            </div>
            <ul class="nav-menu">
                <li><a href="#dashboard" class="active" data-page="dashboard">Dashboard</a></li>
                <li><a href="#tip" data-page="tip">Send Tip</a></li>
                <li><a href="#history" data-page="history">History</a></li>
            </ul>
        </div>
        <div class="user-section">
            Connected: <span id="wallet-address-display">Not Connected</span>
            <button id="connect-disconnect-btn">Connect Wallet</button>
        </div>
    </div>

    <div class="main-content">
        <!-- dashboard, send tip, history sections all unchanged -->
        <div id="dashboard-page" class="content-section active">
            <h2>Dashboard</h2>
            <div class="dashboard-container">
                <div class="dashboard-description">
                    <p>This decentralized application allows anyone to send small tips in the native Intuition token to a recipient's wallet address. It's a simple, effective tool to encourage community engagement and reward contributors directly on the blockchain.</p>
                </div>
                <div class="stat-card">
                    <div id="total-received" class="stat-value">0</div>
                    <div class="stat-label">Total Tips Received</div>
                    <div class="withdraw-container">
                        <button id="withdrawButton" class="withdraw-button">Withdraw All Tips</button>
                    </div>
                </div>
                <div class="stat-card">
                    <div id="total-sent" class="stat-value">0</div>
                    <div class="stat-label">Total Tips Sent</div>
                </div>
            </div>
        </div>

        <div id="tip-page" class="content-section">
            <h2>Send a Tip</h2>
            <div class="form-group">
                <input type="text" id="recipientAddress" placeholder="Recipient's wallet address" />
                <input type="number" id="tipAmount" placeholder="Amount to tip" min="0.001" step="0.001" />
                <button id="tipButton" class="submit-btn">Send Tip</button>
                <div id="status"></div>
            </div>
        </div>

        <div id="history-page" class="content-section">
            <h2>Transaction History</h2>
            <h3 class="history-section-title">Tips Received</h3>
            <div id="received-history-status">Connect your wallet to see history.</div>
            <ul id="received-history-list" class="history-list"></ul>
            
            <h3 class="history-section-title" style="margin-top: 40px;">Tips Sent</h3>
            <div id="sent-history-status">Connect your wallet to see history.</div>
            <ul id="sent-history-list" class="history-list"></ul>
        </div>

        <div class="signature">
            Made with ♥ by <a href="https://x.com/Jrken_ny" target="_blank">Jrkenny</a>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            // ✅ Only change made: updated contract address
            const contractAddress = "0x2890f22222d3a9213c1400102087a5eecb157f3f"; 
            const contractABI = [
                { "inputs": [ { "internalType": "address", "name": "_to", "type": "address" } ], "name": "tip", "outputs": [], "stateMutability": "payable", "type": "function" },
                { "inputs": [], "name": "withdraw", "outputs": [], "stateMutability": "nonpayable", "type": "function" },
                { "anonymous": false, "inputs": [ { "indexed": true, "internalType": "address", "name": "from", "type": "address" }, { "indexed": true, "internalType": "address", "name": "to", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "amount", "type": "uint256" } ], "name": "TipReceived", "type": "event" },
                { "anonymous": false, "inputs": [ { "indexed": true, "internalType": "address", "name": "from", "type": "address" }, { "indexed": true, "internalType": "address", "name": "to", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "amount", "type": "uint256" } ], "name": "TipSent", "type": "event" },
                { "anonymous": false, "inputs": [ { "indexed": true, "internalType": "address", "name": "to", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "amount", "type": "uint256" } ], "name": "FundsWithdrawn", "type": "event" }
            ];

            // … rest of your JS logic stays EXACTLY the same …
        });
    </script>
</body>
</html>
